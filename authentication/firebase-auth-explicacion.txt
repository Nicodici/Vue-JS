â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    GUÃA COMPLETA DE AUTENTICACIÃ“N CON FIREBASE EN VUE 3
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ ÃNDICE
---------
1. ConfiguraciÃ³n Inicial
2. MÃ©todos de AutenticaciÃ³n
3. Ejemplos PrÃ¡cticos
4. Manejo de Errores
5. Buenas PrÃ¡cticas
6. Estado de AutenticaciÃ³n


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. CONFIGURACIÃ“N INICIAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PASO 1: Instalar Firebase
--------------------------
npm install firebase


PASO 2: Crear archivo de configuraciÃ³n (src/firebase/config.js)
---------------------------------------------------------------
import { initializeApp } from 'firebase/app'
import { getAuth } from 'firebase/auth'

const firebaseConfig = {
  apiKey: "TU_API_KEY",
  authDomain: "TU_AUTH_DOMAIN",
  projectId: "TU_PROJECT_ID",
  storageBucket: "TU_STORAGE_BUCKET",
  messagingSenderId: "TU_MESSAGING_SENDER_ID",
  appId: "TU_APP_ID"
}

// Inicializar Firebase
const app = initializeApp(firebaseConfig)

// Obtener la instancia de autenticaciÃ³n
const auth = getAuth(app)

export { auth }


NOTA: ObtÃ©n estas credenciales desde Firebase Console > Project Settings > General


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2. MÃ‰TODOS DE AUTENTICACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IMPORTACIÃ“N BÃSICA
------------------
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, 
         signOut, onAuthStateChanged } from 'firebase/auth'


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¹ getAuth()
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DESCRIPCIÃ“N:
------------
Obtiene la instancia de autenticaciÃ³n de Firebase. Es el punto de entrada
para todas las operaciones de autenticaciÃ³n.

SINTAXIS:
---------
const auth = getAuth(app)

PARÃMETROS:
-----------
- app: Instancia de la aplicaciÃ³n Firebase (opcional si ya existe una por defecto)

RETORNA:
--------
Objeto Auth que permite realizar operaciones de autenticaciÃ³n

EJEMPLO:
--------
import { getAuth } from 'firebase/auth'
import { app } from './firebase/config'

const auth = getAuth(app)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¹ signInWithEmailAndPassword()
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DESCRIPCIÃ“N:
------------
Autentica a un usuario existente usando correo electrÃ³nico y contraseÃ±a.
Es el mÃ©todo mÃ¡s comÃºn para iniciar sesiÃ³n.

SINTAXIS:
---------
signInWithEmailAndPassword(auth, email, password)

PARÃMETROS:
-----------
- auth: Instancia de autenticaciÃ³n obtenida con getAuth()
- email: String - Correo electrÃ³nico del usuario
- password: String - ContraseÃ±a del usuario

RETORNA:
--------
Promise<UserCredential> - Promesa que resuelve con las credenciales del usuario

OBJETO UserCredential CONTIENE:
--------------------------------
{
  user: {
    uid: "ID Ãºnico del usuario",
    email: "correo@ejemplo.com",
    displayName: "Nombre del usuario",
    photoURL: "URL de la foto",
    emailVerified: true/false,
    ...
  },
  providerId: "password",
  operationType: "signIn"
}

EJEMPLO COMPLETO:
-----------------
import { signInWithEmailAndPassword } from 'firebase/auth'
import { auth } from './firebase/config'

const loginUser = async (email, password) => {
  try {
    const userCredential = await signInWithEmailAndPassword(auth, email, password)
    const user = userCredential.user
    console.log('Usuario autenticado:', user.email)
    console.log('UID:', user.uid)
    return user
  } catch (error) {
    console.error('Error al iniciar sesiÃ³n:', error.code, error.message)
    throw error
  }
}


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¹ createUserWithEmailAndPassword()
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DESCRIPCIÃ“N:
------------
Crea una nueva cuenta de usuario con correo electrÃ³nico y contraseÃ±a.
AutomÃ¡ticamente inicia sesiÃ³n despuÃ©s de crear la cuenta.

SINTAXIS:
---------
createUserWithEmailAndPassword(auth, email, password)

PARÃMETROS:
-----------
- auth: Instancia de autenticaciÃ³n
- email: String - Correo electrÃ³nico del nuevo usuario
- password: String - ContraseÃ±a (mÃ­nimo 6 caracteres)

RETORNA:
--------
Promise<UserCredential> - Promesa con las credenciales del usuario creado

REQUISITOS DE CONTRASEÃ‘A:
--------------------------
- MÃ­nimo 6 caracteres
- Firebase recomienda usar contraseÃ±as seguras

EJEMPLO COMPLETO:
-----------------
import { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth'
import { auth } from './firebase/config'

const registerUser = async (email, password, displayName) => {
  try {
    // Crear usuario
    const userCredential = await createUserWithEmailAndPassword(auth, email, password)
    const user = userCredential.user
    
    // Actualizar perfil con nombre (opcional)
    await updateProfile(user, {
      displayName: displayName
    })
    
    console.log('Usuario registrado:', user.email)
    return user
  } catch (error) {
    console.error('Error al registrar:', error.code, error.message)
    throw error
  }
}


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¹ signOut()
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DESCRIPCIÃ“N:
------------
Cierra la sesiÃ³n del usuario actual. Limpia el token de autenticaciÃ³n
y desvincula al usuario de la aplicaciÃ³n.

SINTAXIS:
---------
signOut(auth)

PARÃMETROS:
-----------
- auth: Instancia de autenticaciÃ³n

RETORNA:
--------
Promise<void> - Promesa que se resuelve cuando se cierra la sesiÃ³n

EJEMPLO COMPLETO:
-----------------
import { signOut } from 'firebase/auth'
import { auth } from './firebase/config'
import { useRouter } from 'vue-router'

const logoutUser = async () => {
  try {
    await signOut(auth)
    console.log('SesiÃ³n cerrada exitosamente')
    // Redirigir a login
    router.push('/login')
  } catch (error) {
    console.error('Error al cerrar sesiÃ³n:', error)
    throw error
  }
}


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¹ onAuthStateChanged()
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DESCRIPCIÃ“N:
------------
Observador que escucha cambios en el estado de autenticaciÃ³n del usuario.
Se ejecuta cuando el usuario inicia sesiÃ³n, cierra sesiÃ³n o cuando se
inicializa la aplicaciÃ³n.

SINTAXIS:
---------
onAuthStateChanged(auth, callback)

PARÃMETROS:
-----------
- auth: Instancia de autenticaciÃ³n
- callback: FunciÃ³n que recibe el usuario actual (o null si no hay sesiÃ³n)

RETORNA:
--------
FunciÃ³n unsubscribe para detener la escucha

CUÃNDO SE EJECUTA:
------------------
1. Al cargar la aplicaciÃ³n (verifica si hay sesiÃ³n activa)
2. Cuando un usuario inicia sesiÃ³n
3. Cuando un usuario cierra sesiÃ³n
4. Cuando el token de sesiÃ³n se refresca

EJEMPLO COMPLETO EN VUE 3:
---------------------------
import { onAuthStateChanged } from 'firebase/auth'
import { auth } from './firebase/config'
import { ref, onMounted, onUnmounted } from 'vue'

const user = ref(null)
const isAuthenticated = ref(false)
const loading = ref(true)

let unsubscribe = null

onMounted(() => {
  // Iniciar observador
  unsubscribe = onAuthStateChanged(auth, (currentUser) => {
    if (currentUser) {
      // Usuario autenticado
      user.value = currentUser
      isAuthenticated.value = true
      console.log('Usuario conectado:', currentUser.email)
    } else {
      // No hay usuario autenticado
      user.value = null
      isAuthenticated.value = false
      console.log('No hay usuario autenticado')
    }
    loading.value = false
  })
})

onUnmounted(() => {
  // Detener observador al desmontar componente
  if (unsubscribe) {
    unsubscribe()
  }
})


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¹ OTROS MÃ‰TODOS IMPORTANTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

import { 
  sendPasswordResetEmail,     // Enviar email para restablecer contraseÃ±a
  sendEmailVerification,       // Enviar email de verificaciÃ³n
  updateProfile,               // Actualizar perfil (nombre, foto)
  updateEmail,                 // Cambiar correo electrÃ³nico
  updatePassword,              // Cambiar contraseÃ±a
  deleteUser,                  // Eliminar cuenta de usuario
  signInWithPopup,            // Iniciar sesiÃ³n con popup (Google, Facebook)
  signInWithRedirect,         // Iniciar sesiÃ³n con redirecciÃ³n
  GoogleAuthProvider,         // Proveedor de Google
  FacebookAuthProvider,       // Proveedor de Facebook
  TwitterAuthProvider         // Proveedor de Twitter
} from 'firebase/auth'


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3. EJEMPLOS PRÃCTICOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
EJEMPLO 1: Componente de Login Completo
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<template>
  <div class="login-container">
    <h2>Iniciar SesiÃ³n</h2>
    <form @submit.prevent="handleLogin">
      <input 
        v-model="email" 
        type="email" 
        placeholder="Correo electrÃ³nico"
        required
      />
      <input 
        v-model="password" 
        type="password" 
        placeholder="ContraseÃ±a"
        required
      />
      <button type="submit" :disabled="loading">
        {{ loading ? 'Cargando...' : 'Iniciar SesiÃ³n' }}
      </button>
      <p v-if="error" class="error">{{ error }}</p>
    </form>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { signInWithEmailAndPassword } from 'firebase/auth'
import { auth } from '@/firebase/config'
import { useRouter } from 'vue-router'

const email = ref('')
const password = ref('')
const loading = ref(false)
const error = ref(null)
const router = useRouter()

const handleLogin = async () => {
  loading.value = true
  error.value = null
  
  try {
    const userCredential = await signInWithEmailAndPassword(
      auth, 
      email.value, 
      password.value
    )
    console.log('Login exitoso:', userCredential.user.email)
    router.push('/dashboard')
  } catch (err) {
    console.error('Error:', err)
    error.value = getMensajeError(err.code)
  } finally {
    loading.value = false
  }
}

const getMensajeError = (code) => {
  const errores = {
    'auth/invalid-email': 'Correo electrÃ³nico invÃ¡lido',
    'auth/user-disabled': 'Usuario deshabilitado',
    'auth/user-not-found': 'Usuario no encontrado',
    'auth/wrong-password': 'ContraseÃ±a incorrecta',
    'auth/invalid-credential': 'Credenciales invÃ¡lidas'
  }
  return errores[code] || 'Error al iniciar sesiÃ³n'
}
</script>


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
EJEMPLO 2: Componente de Registro
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<script setup>
import { ref } from 'vue'
import { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth'
import { auth } from '@/firebase/config'
import { useRouter } from 'vue-router'

const email = ref('')
const password = ref('')
const displayName = ref('')
const loading = ref(false)
const error = ref(null)
const router = useRouter()

const handleRegister = async () => {
  loading.value = true
  error.value = null
  
  try {
    // Crear usuario
    const userCredential = await createUserWithEmailAndPassword(
      auth, 
      email.value, 
      password.value
    )
    
    // Actualizar perfil con nombre
    await updateProfile(userCredential.user, {
      displayName: displayName.value
    })
    
    console.log('Usuario registrado:', userCredential.user.email)
    router.push('/dashboard')
  } catch (err) {
    console.error('Error:', err)
    error.value = getMensajeError(err.code)
  } finally {
    loading.value = false
  }
}

const getMensajeError = (code) => {
  const errores = {
    'auth/email-already-in-use': 'El correo ya estÃ¡ registrado',
    'auth/invalid-email': 'Correo electrÃ³nico invÃ¡lido',
    'auth/weak-password': 'ContraseÃ±a dÃ©bil (mÃ­nimo 6 caracteres)',
    'auth/operation-not-allowed': 'OperaciÃ³n no permitida'
  }
  return errores[code] || 'Error al registrar usuario'
}
</script>


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
EJEMPLO 3: Composable para AutenticaciÃ³n (useAuth.js)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

// src/composables/useAuth.js
import { ref, onMounted, onUnmounted } from 'vue'
import { 
  signInWithEmailAndPassword, 
  createUserWithEmailAndPassword,
  signOut,
  onAuthStateChanged
} from 'firebase/auth'
import { auth } from '@/firebase/config'
import { useRouter } from 'vue-router'

export function useAuth() {
  const user = ref(null)
  const loading = ref(true)
  const error = ref(null)
  const router = useRouter()
  
  let unsubscribe = null
  
  // Inicializar observador de autenticaciÃ³n
  onMounted(() => {
    unsubscribe = onAuthStateChanged(auth, (currentUser) => {
      user.value = currentUser
      loading.value = false
    })
  })
  
  // Limpiar observador
  onUnmounted(() => {
    if (unsubscribe) unsubscribe()
  })
  
  // Login
  const login = async (email, password) => {
    loading.value = true
    error.value = null
    try {
      const credential = await signInWithEmailAndPassword(auth, email, password)
      user.value = credential.user
      return user.value
    } catch (err) {
      error.value = err
      throw err
    } finally {
      loading.value = false
    }
  }
  
  // Registro
  const register = async (email, password) => {
    loading.value = true
    error.value = null
    try {
      const credential = await createUserWithEmailAndPassword(auth, email, password)
      user.value = credential.user
      return user.value
    } catch (err) {
      error.value = err
      throw err
    } finally {
      loading.value = false
    }
  }
  
  // Logout
  const logout = async () => {
    try {
      await signOut(auth)
      user.value = null
      router.push('/login')
    } catch (err) {
      error.value = err
      throw err
    }
  }
  
  return {
    user,
    loading,
    error,
    login,
    register,
    logout
  }
}


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
EJEMPLO 4: Proteger Rutas con Guards
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

// src/router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import { auth } from '@/firebase/config'

const routes = [
  {
    path: '/',
    name: 'Home',
    component: () => import('@/views/Home.vue')
  },
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/views/Login.vue'),
    meta: { requiresGuest: true }
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    component: () => import('@/views/Dashboard.vue'),
    meta: { requiresAuth: true }
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

// Guard global
router.beforeEach((to, from, next) => {
  const requiresAuth = to.matched.some(record => record.meta.requiresAuth)
  const requiresGuest = to.matched.some(record => record.meta.requiresGuest)
  const currentUser = auth.currentUser
  
  if (requiresAuth && !currentUser) {
    next('/login')
  } else if (requiresGuest && currentUser) {
    next('/dashboard')
  } else {
    next()
  }
})

export default router


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. MANEJO DE ERRORES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CÃ“DIGOS DE ERROR COMUNES
-------------------------

AUTH/INVALID-EMAIL
------------------
Causa: Formato de correo electrÃ³nico invÃ¡lido
SoluciÃ³n: Validar formato antes de enviar

AUTH/USER-DISABLED
------------------
Causa: La cuenta del usuario ha sido deshabilitada
SoluciÃ³n: Contactar con administrador o usar otra cuenta

AUTH/USER-NOT-FOUND
-------------------
Causa: No existe un usuario con ese correo
SoluciÃ³n: Verificar correo o registrarse

AUTH/WRONG-PASSWORD
-------------------
Causa: ContraseÃ±a incorrecta
SoluciÃ³n: Verificar contraseÃ±a o usar recuperaciÃ³n

AUTH/EMAIL-ALREADY-IN-USE
-------------------------
Causa: El correo ya estÃ¡ registrado
SoluciÃ³n: Usar otro correo o iniciar sesiÃ³n

AUTH/WEAK-PASSWORD
------------------
Causa: ContraseÃ±a demasiado dÃ©bil (menos de 6 caracteres)
SoluciÃ³n: Usar contraseÃ±a mÃ¡s fuerte

AUTH/INVALID-CREDENTIAL
-----------------------
Causa: Credenciales invÃ¡lidas o mal formadas
SoluciÃ³n: Verificar datos de acceso

AUTH/TOO-MANY-REQUESTS
----------------------
Causa: Demasiados intentos fallidos
SoluciÃ³n: Esperar un tiempo o restablecer contraseÃ±a

AUTH/NETWORK-REQUEST-FAILED
---------------------------
Causa: Problema de conexiÃ³n a internet
SoluciÃ³n: Verificar conexiÃ³n


FUNCIÃ“N HELPER PARA TRADUCIR ERRORES
-------------------------------------
const getErrorMessage = (errorCode) => {
  const errorMessages = {
    'auth/invalid-email': 'El formato del correo electrÃ³nico es invÃ¡lido',
    'auth/user-disabled': 'Esta cuenta ha sido deshabilitada',
    'auth/user-not-found': 'No existe una cuenta con este correo',
    'auth/wrong-password': 'ContraseÃ±a incorrecta',
    'auth/email-already-in-use': 'Este correo ya estÃ¡ registrado',
    'auth/weak-password': 'La contraseÃ±a debe tener al menos 6 caracteres',
    'auth/invalid-credential': 'Las credenciales proporcionadas son invÃ¡lidas',
    'auth/too-many-requests': 'Demasiados intentos. Intenta mÃ¡s tarde',
    'auth/network-request-failed': 'Error de conexiÃ³n. Verifica tu internet'
  }
  
  return errorMessages[errorCode] || 'Ha ocurrido un error inesperado'
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. BUENAS PRÃCTICAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… DO (Hacer)
-------------
1. Validar inputs antes de llamar mÃ©todos de Firebase
2. Usar try-catch para manejar errores
3. Mostrar mensajes de error amigables al usuario
4. Limpiar observadores (unsubscribe) al desmontar componentes
5. Usar loading states para mejorar UX
6. Implementar guards en rutas protegidas
7. Almacenar configuraciÃ³n de Firebase en variables de entorno
8. Usar composables para reutilizar lÃ³gica de autenticaciÃ³n
9. Verificar email despuÃ©s del registro (sendEmailVerification)
10. Implementar recuperaciÃ³n de contraseÃ±a

âŒ DON'T (No hacer)
-------------------
1. No guardar credenciales de Firebase en el cÃ³digo fuente
2. No exponer claves privadas en el frontend
3. No confiar solo en validaciÃ³n del cliente
4. No olvidar limpiar observadores
5. No permitir contraseÃ±as dÃ©biles
6. No ignorar errores de autenticaciÃ³n
7. No hacer mÃºltiples llamadas innecesarias a Firebase
8. No almacenar contraseÃ±as en texto plano
9. No confiar en auth.currentUser inmediatamente (puede ser null)
10. No olvidar configurar reglas de seguridad en Firebase


CONFIGURACIÃ“N DE SEGURIDAD EN FIREBASE
---------------------------------------
En Firebase Console > Authentication > Sign-in method:
- Habilitar Email/Password
- Configurar dominios autorizados
- Establecer plantillas de correo personalizadas

En Firestore Rules:
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. ESTADO DE AUTENTICACIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PERSISTENCIA DE SESIÃ“N
-----------------------
Firebase mantiene la sesiÃ³n del usuario automÃ¡ticamente usando:
- localStorage (por defecto)
- sessionStorage (solo para la sesiÃ³n actual)
- none (sin persistencia)

Para cambiar la persistencia:
------------------------------
import { setPersistence, browserLocalPersistence, browserSessionPersistence } from 'firebase/auth'

// Persistencia local (por defecto)
await setPersistence(auth, browserLocalPersistence)

// Solo sesiÃ³n actual
await setPersistence(auth, browserSessionPersistence)


OBTENER USUARIO ACTUAL
-----------------------
// MÃ©todo 1: SÃ­ncrono (puede ser null si aÃºn estÃ¡ cargando)
const user = auth.currentUser

// MÃ©todo 2: Con promesa (espera a que se cargue)
const getCurrentUser = () => {
  return new Promise((resolve, reject) => {
    const unsubscribe = onAuthStateChanged(auth, user => {
      unsubscribe()
      resolve(user)
    }, reject)
  })
}


TOKEN DE AUTENTICACIÃ“N
----------------------
Para obtener el token de ID del usuario:
const user = auth.currentUser
if (user) {
  const token = await user.getIdToken()
  console.log('Token:', token)
  
  // Usar token en headers de API
  const response = await fetch('/api/data', {
    headers: {
      'Authorization': `Bearer ${token}`
    }
  })
}


ACTUALIZAR TOKEN AUTOMÃTICAMENTE
---------------------------------
Firebase refresca el token automÃ¡ticamente cada hora.
Para forzar un refresh:
const token = await user.getIdToken(true) // true = force refresh


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
RECURSOS ADICIONALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š DocumentaciÃ³n Oficial:
https://firebase.google.com/docs/auth

ğŸ”¥ Firebase Console:
https://console.firebase.google.com/

ğŸ’» Ejemplos de CÃ³digo:
https://github.com/firebase/quickstart-js

ğŸ“– GuÃ­as de Vue 3:
https://vuejs.org/guide/

ğŸ›¡ï¸ Reglas de Seguridad:
https://firebase.google.com/docs/rules


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
NOTAS FINALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Este documento cubre los aspectos fundamentales de la autenticaciÃ³n con
Firebase en aplicaciones Vue 3. Para funcionalidades avanzadas como
autenticaciÃ³n social (Google, Facebook), autenticaciÃ³n telefÃ³nica, o
autenticaciÃ³n anÃ³nima, consultar la documentaciÃ³n oficial.

Recuerda siempre:
- Proteger las credenciales de Firebase
- Implementar reglas de seguridad adecuadas
- Validar en el backend ademÃ¡s del frontend
- Mantener Firebase SDK actualizado
- Monitorear intentos de acceso sospechosos

Â¡Buena suerte con tu proyecto! ğŸš€
